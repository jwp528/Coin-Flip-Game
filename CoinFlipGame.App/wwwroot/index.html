<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Coin Flip Game</title>
    <base href="/" />
    <link rel="stylesheet" href="bootstrap/bootstrap.min.css" />
    <link rel="stylesheet" href="app.css" />
    <link rel="stylesheet" href="CoinFlipGame.App.styles.css" />
    <link rel="icon" type="image/png" href="favicon.png" />
    <style>
        /* Splash Screen Styles */
        #loading-splash {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            z-index: 9999;
            transition: opacity 0.5s ease-out;
        }

        #loading-splash.loaded {
            opacity: 0;
            pointer-events: none;
        }

        .splash-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 40px;
        }

        .splash-coin {
            width: 120px;
            height: 120px;
            position: relative;
            transform-style: preserve-3d;
            animation: splashCoinFlip 2s ease-in-out infinite;
        }

        @keyframes splashCoinFlip {
            0%,
            100% {
                transform: translateY(0) rotateY(0deg);
            }

            25% {
                transform: translateY(-30px) rotateY(180deg);
            }

            50% {
                transform: translateY(0) rotateY(360deg);
            }

            75% {
                transform: translateY(-30px) rotateY(540deg);
            }
        }

        .splash-coin-face {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            backface-visibility: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #ffd700 0%, #ffed4e 50%, #ffd700 100%);
            box-shadow:
                0 8px 25px rgba(0, 0, 0, 0.4),
                inset 0 2px 0 rgba(255, 255, 255, 0.6),
                inset 0 -2px 0 rgba(0, 0, 0, 0.3);
            border: 4px solid #daa520;
        }

        .splash-coin-back {
            transform: rotateY(180deg);
        }

        .splash-shine {
            position: absolute;
            width: 60%;
            height: 60%;
            background: radial-gradient(
                circle,
                rgba(255, 255, 255, 0.9) 0%,
                rgba(255, 255, 255, 0.5) 40%,
                transparent 70%
            );
            border-radius: 50%;
            filter: blur(12px);
            animation: splashShine 2s ease-in-out infinite;
        }

        @keyframes splashShine {
            0%,
            100% {
                transform: translate(20%, -20%);
            }

            50% {
                transform: translate(-20%, 20%);
            }
        }

        .splash-title {
            font-size: 2.5rem;
            font-weight: 800;
            color: white;
            text-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            letter-spacing: 3px;
            animation: splashFadeIn 1s ease-in-out;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }

        .splash-loading {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.9);
            letter-spacing: 3px;
            animation: splashPulse 1.5s ease-in-out infinite;
            font-weight: 600;
        }

        @keyframes splashFadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes splashPulse {
            0%,
            100% {
                opacity: 0.7;
            }

            50% {
                opacity: 1;
            }
        }

        .splash-dots::after {
            content: '';
            animation: splashDots 1.5s steps(4, end) infinite;
        }

        @keyframes splashDots {
            0%,
            20% {
                content: '';
            }

            40% {
                content: '.';
            }

            60% {
                content: '..';
            }

            80%,
            100% {
                content: '...';
            }
        }
    </style>
</head>

<body>
    <!-- Loading Splash Screen -->
    <div id="loading-splash">
        <div class="splash-container">
            <div class="splash-coin">
                <div class="splash-coin-face">
                    <div class="splash-shine"></div>
                </div>
                <div class="splash-coin-face splash-coin-back">
                    <div class="splash-shine"></div>
                </div>
            </div>
            <h1 class="splash-title">COIN FLIP</h1>
            <div class="splash-loading">
                LOADING<span class="splash-dots"></span>
            </div>
        </div>
    </div>

    <!-- Blazor App -->
    <div id="app"></div>

    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">??</a>
    </div>

    <!-- Load JavaScript libraries -->
    <script src="js/coinhelpers.js"></script>
    <script src="js/particles.js"></script>
    <script src="js/physics.js"></script>
    <script src="js/audio.js"></script>
    <script src="_framework/blazor.webassembly.js" autostart="false"></script>

    <script>
        // Wait for Blazor to start, then hide splash
        Blazor.start().then(() => {
            // Give a moment for the first render
            setTimeout(() => {
                const splash = document.getElementById('loading-splash');
                if (splash) {
                    splash.classList.add('loaded');
                    // Remove from DOM after transition
                    setTimeout(() => {
                        splash.remove();
                    }, 500);
                }
            }, 300);
        });
    </script>
</body>

</html>
